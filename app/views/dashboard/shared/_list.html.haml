%table
  %thead
    %tr
      %th Title
      %th Short
      %th Tags
      %th Image
      %th Status
      %th
      %th
      %th

  %tbody
    - @posts.each do |post|
      %tr
        %td= post.title
        %td= post.short
        %td= post.tag
        %td= image_tag post.image.url(:thumb)
        %td
          %input{:name => "switchName", :type => "checkbox", :value => "true", :data => {:selected => "#{check_status(post.status)}", :id => "#{post.id}"}, class: "switcher", id: "switcher"}/
        %td= link_to 'Show', dashboard_post_path(id: post)
        %td= link_to 'Edit', edit_dashboard_post_path(post)
        %td= link_to 'Destroy', dashboard_post_path(id: post), :method => :delete, :data => { :confirm => 'Are you sure?' }

:javascript
  $(function () {
    var switcherEl = $('.switcher').switcher({
    });

    $('#switcher').change(function(){
      var id = $(this).attr("data-id");
      var redirect_to = "http://" + location.host + "/dashboard/posts/" + id + "/switch_status";
      
      window.location.replace(redirect_to);
    });
  });